<template>
  <div id="comment" class="mr-tab-panel">

    <div class="actor-new">
      <div class="rate">
        <strong>100<span>%</span></strong><br> <span>好评度</span>
      </div>
      <dl>
        <dt>买家印象</dt>
        <dd class="p-bfc">
          <q class="comm-tags"><span>太可爱了</span><em>(2177)</em></q>
          <q class="comm-tags"><span>战斗力超强</span><em>(1860)</em></q>
          <q class="comm-tags"><span>太强了(</span><em>(1823)</em></q>
          <q class="comm-tags"><span>技能炫酷</span><em>(1689)</em></q>
          <q class="comm-tags"><span>好强的小精灵</span><em>(1488)</em></q>
          <q class="comm-tags"><span>人气超高</span><em>(1392)</em></q>
        </dd>
      </dl>
    </div>
    <div class="clear"></div>
    <div class="bar">
      <span>全部评价</span><span class="num">(1000)</span>
      <span>好评</span><span class="num">(1000)</span>
      <span>中评</span><span class="num">(0)</span>
      <span>差评</span><span class="num">(0)</span>

    </div>
    <div class="clear"></div>

    <ul class="list-flip">
      <li class="mr-comment">
        <!-- 评论容器 -->
        <a href="javascript:void(0)">
          <img class="mr-comment-avatar" src="@/assets/images/哆啦A梦.jpeg" width="50" height="50">
          <!-- 评论者头像 -->
        </a>

        <div class="mr-comment-main">
          <!-- 评论内容容器 -->
          <header class="mr-comment-hd">
            <!--<h3 class="mr-comment-title">评论标题</h3>-->
            <div class="mr-comment-meta">
              <!-- 评论元数据 -->
              <a href="javascript:void(0)" class="mr-comment-author">b***1 (匿名)</a>
              <!-- 评论者 -->
              评论于
              <time datetime="">2015年11月02日 17:46</time>
            </div>
          </header>

          <div class="mr-comment-bd">
            <div class="tb-rev-item " data-id="255776406962">
              <div class="tb-tbcr-content ">
                太可爱了,战斗力超强
              </div>
              <div class="tb-r-act-bar">
                附加技能:十万伏特
              </div>
            </div>

          </div>
          <!-- 评论内容 -->
        </div>
      </li>
      <li class="mr-comment">
        <!-- 评论容器 -->
        <a href="javascript:void(0)">
          <img class="mr-comment-avatar" src="@/assets/images/哆啦A梦.jpeg" width="50" height="50">
          <!-- 评论者头像 -->
        </a>

        <div class="mr-comment-main">
          <!-- 评论内容容器 -->
          <header class="mr-comment-hd">
            <!--<h3 class="mr-comment-title">评论标题</h3>-->
            <div class="mr-comment-meta">
              <!-- 评论元数据 -->
              <a href="javascript:void(0)" class="mr-comment-author">b***1 (匿名)</a>
              <!-- 评论者 -->
              评论于
              <time datetime="">2015年11月02日 17:46</time>
            </div>
          </header>

          <div class="mr-comment-bd">
            <div class="tb-rev-item " data-id="255776406962">
              <div class="J_TbcRate_ReviewContent tb-tbcr-content ">
                太可爱了,战斗力超强
              </div>
              <div class="tb-r-act-bar">
                附加技能:十万伏特
              </div>
            </div>

          </div>
          <!-- 评论内容 -->
        </div>
      </li>
      <li class="mr-comment">
        <!-- 评论容器 -->
        <a href="javascript:void(0)">
          <img class="mr-comment-avatar" src="@/assets/images/哆啦A梦.jpeg" width="50" height="50">
          <!-- 评论者头像 -->
        </a>

        <div class="mr-comment-main">
          <!-- 评论内容容器 -->
          <header class="mr-comment-hd">
            <!--<h3 class="mr-comment-title">评论标题</h3>-->
            <div class="mr-comment-meta">
              <!-- 评论元数据 -->
              <a href="javascript:void(0)" class="mr-comment-author">b***1 (匿名)</a>
              <!-- 评论者 -->
              评论于
              <time datetime="">2015年11月02日 17:46</time>
            </div>
          </header>

          <div class="mr-comment-bd">
            <div class="tb-rev-item " data-id="255776406962">
              <div class="J_TbcRate_ReviewContent tb-tbcr-content ">
                太可爱了,战斗力超强
              </div>
              <div class="tb-r-act-bar">
                附加技能:十万伏特
              </div>
            </div>

          </div>
          <!-- 评论内容 -->
        </div>
      </li>
      <li class="mr-comment">
        <!-- 评论容器 -->
        <a href="javascript:void(0)">
          <img class="mr-comment-avatar" src="@/assets/images/哆啦A梦.jpeg" width="50" height="50">
          <!-- 评论者头像 -->
        </a>

        <div class="mr-comment-main">
          <!-- 评论内容容器 -->
          <header class="mr-comment-hd">
            <!--<h3 class="mr-comment-title">评论标题</h3>-->
            <div class="mr-comment-meta">
              <!-- 评论元数据 -->
              <a href="javascript:void(0)" class="mr-comment-author">b***1 (匿名)</a>
              <!-- 评论者 -->
              评论于
              <time datetime="">2015年11月02日 17:46</time>
            </div>
          </header>

          <div class="mr-comment-bd">
            <div class="tb-rev-item " data-id="255776406962">
              <div class="J_TbcRate_ReviewContent tb-tbcr-content ">
                太可爱了,战斗力超强
              </div>
              <div class="tb-r-act-bar">
                附加技能:十万伏特
              </div>
            </div>

          </div>
          <!-- 评论内容 -->
        </div>
      </li>
      <li class="mr-comment">
        <!-- 评论容器 -->
        <a href="javascript:void(0)">
          <img class="mr-comment-avatar" src="@/assets/images/哆啦A梦.jpeg" width="50" height="50">
          <!-- 评论者头像 -->
        </a>

        <div class="mr-comment-main">
          <!-- 评论内容容器 -->
          <header class="mr-comment-hd">
            <!--<h3 class="mr-comment-title">评论标题</h3>-->
            <div class="mr-comment-meta">
              <!-- 评论元数据 -->
              <a href="javascript:void(0)" class="mr-comment-author">b***1 (匿名)</a>
              <!-- 评论者 -->
              评论于
              <time datetime="">2015年11月02日 17:46</time>
            </div>
          </header>

          <div class="mr-comment-bd">
            <div class="tb-rev-item " data-id="255776406962">
              <div class="J_TbcRate_ReviewContent tb-tbcr-content ">
                太可爱了,战斗力超强
              </div>
              <div class="tb-r-act-bar">
                附加技能:十万伏特
              </div>
            </div>

          </div>
          <!-- 评论内容 -->
        </div>
      </li>
    </ul>

    <div class="clear"></div>

    <!--分页 -->
    <span :class="{'mr-disabled':curentPage==1}" @click="jump(curentPage-1)"><a href="javascript:void(0)">&laquo;</a></span>
    &nbsp;&nbsp;
    <span :class="{'mr-active':curentPage==n}" v-for="n in pages" :key="n" @click="jump(n)">
      <a href="javascript:void(0)">{{n}}&nbsp;&nbsp;</a>
    </span>
    &nbsp;&nbsp;
    <span :class="{'mr-disabled':curentPage==pages}" @click="jump(curentPage+1)"><a href="javascript:void(0)">&raquo;</a></span>
    <div class="clear"></div>

    <div class="tb-reviewsft">
      <div class="tb-rate-alert type-attention">购买前请查看该商品的 <a href="javascript:void(0)">购物保障</a>，明确您的售后保障权益。</div>
    </div>

  </div>
</template>
<script>
  //var items = document.querySelectorAll('.mr-comment');
  export default {
    data: function () {
      return {
        items: [],
        eachNum: 3,
        curentPage: 1
      }
    },
    mounted: function(){
      this.items = document.querySelectorAll('.mr-comment');
      for(var i = 0; i < this.items.length; i++){
        if(i < 3){
          this.items[i].style.display = 'block';
        }else{
          this.items[i].style.display = 'none';
        }
      }
    },
    computed: {
      count: function () {
        return this.items.length;
      },
      pages: function () {
        return Math.ceil(this.count/this.eachNum);
      }
    },
    methods: {
      jump: function (n) {
        this.curentPage = n;
        if(this.curentPage < 1){
          this.curentPage = 1;
        }
        if(this.curentPage > this.pages){
          this.curentPage = this.pages;
        }
        for(var i = 0; i < this.items.length; i++){
          this.items[i].style.display = 'none';
        }
        var start = (this.curentPage - 1) * this.eachNum;
        var end = start + this.eachNum;
        end = end > this.count ? this.count : end;
        for(var j = start; j < end; j++){
          this.items[j].style.display = 'block';
        }
      }
    }
  }
</script>
